<html>
    <head>
        <title>Luck Simulator</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <style>
            html {
                font-family: sans-serif;
            }

            #doggo {
                width: 50vw;
            }

            #hand {
                width: 25vw;
                position: absolute;
                z-index: 1;
                cursor: move;
            }
        </style>
    </head>

    <body>
        <div style="text-align: center">
            <h1 >Virtually rub True Grit's nose for good luck!</h1>
        
            <p>
                <img id="doggo" src="true-grit.jpg">
                <img id="hand"  src="hand.png">
            </p>
        </div>
       

        <p class="footer">
            Inspired by: <a href="https://ellielitwack.github.io/testudosimulator/">Testudo Simulator</a>
        </p>

        <!-- <script>
            const el = document.getElementById("hand");

            el.draggable = true;

            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

            el.ondragstart = e => {
                e.preventDefault();

                pos3 = e.clientX;
                pos4 = e.clientY;

                el.ondrag = e => {
                    console.log(e);

                    // calculate the new cursor position:
                    pos1 = pos3 - e.clientX;
                    pos2 = pos4 - e.clientY;
                    pos3 = e.clientX;
                    pos4 = e.clientY;

                    // set the element's new position:
                    el.style.top = (el.offsetTop - pos2) + "px";
                    el.style.left = (el.offsetLeft - pos1) + "px";
                }
            }
        </script> -->
        
        <!-- jQuery suggestion made by Chris Moss -->
        <script src="https://code.jquery.com/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.8.17/jquery-ui.min.js"></script>
        <script type="text/javascript">
        /*!
        * jQuery UI Touch Punch 0.2.3
        *
        * Copyright 2011â€“2014, Dave Furfero
        * Dual licensed under the MIT or GPL Version 2 licenses.
        *
        * Depends:
        *  jquery.ui.widget.js
        *  jquery.ui.mouse.js
        */
        !function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);
        </script>
        <script>$('#hand').draggable();</script>
        <script>
            // make the hand image draggable
            const el = document.getElementById("hand");

            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            
            el.onmousedown = e => {
                e = e || window.event;
                e.preventDefault();

                // get the mouse cursor position at startup:
                pos3 = e.clientX;
                pos4 = e.clientY;

                // when dragging stops, clear event listeners
                document.onmouseup = () => {
                    document.onmouseup = null;
                    document.onmousemove = null;
                }

                // call a function whenever the cursor moves:
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();

                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;

                // set the element's new position:
                el.style.top = (el.offsetTop - pos2) + "px";
                el.style.left = (el.offsetLeft - pos1) + "px";
            }
        </script>
    </body>
</html>